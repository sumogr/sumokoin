name: Continuous_Integration_Testing

on: [push, pull_request]

jobs:
  build-macos-native:
    runs-on: macOS-latest
    steps:
    - uses: actions/checkout@v2
    - name: install dependencies
      run: brew install cmake g++-multilib bc pkg-config libtool autoconf automake gperf
    - name: cross compile sumokoin bins for linux i686
      run: make depends target=i686-linux-gnu -j 3
    - name: upload binaries
      uses: actions/upload-artifact@v2
      with:
        name: linux-i686-static-binaries
        path: build/**/bin/
