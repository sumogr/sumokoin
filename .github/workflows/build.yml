name: Continuous_Integration_Testing

on: [push, pull_request]

jobs:
  cross-build-32-bit-linux-on-bionic:
    runs-on: ubuntu-16.04
    steps:
    - uses: actions/checkout@v1
      with:
        submodules: recursive
    - name: remove bundled boost
      run: sudo rm -rf /usr/local/share/boost
    - name: set apt conf
      run: |
        echo "Acquire::Retries \"3\";" | sudo tee -a /etc/apt/apt.conf.d/80-custom
        echo "Acquire::http::Timeout \"120\";" | sudo tee -a /etc/apt/apt.conf.d/80-custom
        echo "Acquire::ftp::Timeout \"120\";" | sudo tee -a /etc/apt/apt.conf.d/80-custom
    - name: update apt
      run: |
        sudo add-apt-repository 'deb http://archive.ubuntu.com/ubuntu xenial main restricted'
        sudo add-apt-repository 'deb http://archive.ubuntu.com/ubuntu xenial-updates main restricted'
        sudo add-apt-repository 'deb http://archive.ubuntu.com/ubuntu xenial universe'
        sudo add-apt-repository 'deb http://archive.ubuntu.com/ubuntu xenial-updates universe'
        sudo add-apt-repository 'deb http://archive.ubuntu.com/ubuntu xenial multiverse'
        sudo add-apt-repository 'deb http://archive.ubuntu.com/ubuntu xenial-updates multiverse'
        sudo add-apt-repository 'deb http://archive.ubuntu.com/ubuntu xenial-backports main restricted universe multiverse'
        sudo add-apt-repository 'deb http://security.ubuntu.com/ubuntu xenial-security main restricted'
        sudo add-apt-repository 'deb http://security.ubuntu.com/ubuntu xenial-security universe'
        sudo add-apt-repository 'deb http://security.ubuntu.com/ubuntu xenial-security multiverse'
        sudo apt update
    - name: install sumokoin dependencies
      run: sudo apt-get install linux-libc-dev-i386-cross
   
